<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>

<body>
    <h1>Reproductor de audio</h1>
    <audio id="ElAudio" preload="auto">
        <source src="Estopa.mp3" type="audio/mpeg" />
        El navegador NO soporta el audio
    </audio>

    <button onclick="playAudio()">
        <i class="glyphicon glyphicon-play"></i>
        Reproducir
    </button>
    <button onclick="pauseAudio()">
        <i class="glyphicon glyphicon-pause"></i>
        Pausar
    </button>
    <button onclick="stopAudio()">
        <i class="glyphicon glyphicon-stop"></i>
        Parar
    </button>
    <br>
    <button onclick="infoAudio()">
        Informacion
    </button>
    <button onclick="durationAudio()">
        Duracion
    </button>
    <br>
    <input type="file" id="nuevoAudio">
    <br>
    <button onclick="cambiarAudio()">Cambiar de cancion</button>
    <br>
    <p id="infoduracion"></p>
    <br>
    <p id="infop"></p>





</body>
<script>
    theAudio = document.querySelector("#ElAudio");
    infop = document.querySelector("#infop");
    infod = document.querySelector("#infoduracion");
    var nuevaruta = document.getElementById("nuevoAudio").files[0].name;


    function playAudio() {
        theAudio.play();
    }

    function pauseAudio() {
        theAudio.pause();
    }

    function stopAudio() {
        theAudio.currentTime = 0;
        theAudio.pause();
    }

    function infoAudio() {

        //infooaudio = document.getElementById("ElAudio").files[0].name;
        //infop.innerHTML = "Estas escuchando: " + <b> infooaudio </b>; 
    }

    function durationAudio() {
        var dur = theAudio.duration / 100;
        infod.innerHTML = dur + " min";

    }

    function cambiarAudio() {
        var body = document.getElementsByTagName('body')[0];
        body.removeChild(theAudio);

        var audio = document.createElement('audio');
        audio.setAttribute('controls', true);
        audio.id = 'theAudio';
        document.getElementById("infop").innerHTML = nuevaruta;
        audio.setAttribute('src', nuevaruta);
        body.appendChild(audio);

    }
</script>

</html>